{"ast":null,"code":"import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faEdit, faTrash } from '@fortawesome/free-solid-svg-icons';\nimport { useState } from 'react';\nimport Alert from \"./Alert\";\nimport EditAssumedIngredient from './EditAssumedIngredient';\nexport default function SelectedRecipe(props) {\n  let stringifyAssumedIngredients = recipe => {\n    let ingredients_list = [];\n    recipe.assumed_ingredients.map((ingredient, i) => {\n      let stringIngredient = `${recipe.assumed_quantities[i]} ${recipe.assumed_quantities_unit[i]} ${ingredient}`;\n      ingredients_list.push(stringIngredient);\n    });\n    return ingredients_list;\n  };\n  let recipeProp = props.recipe;\n  let modifyRecipe = () => {\n    setLoading(true);\n    const cleanRemovedItems = removedItemsRender.map((marked, i) => marked ? recipe.assumed_ingredients[i] : false).filter(item => item !== false);\n    let originalIngredients = stringifyAssumedIngredients(recipe);\n    fetch('http://localhost:8000/edit-recipe', {\n      method: \"POST\",\n      headers: {\n        'Content-Type': \"application/json\"\n      },\n      body: JSON.stringify({\n        'recipe': recipe,\n        'excluded_ingredients': cleanRemovedItems,\n        \"rendered_items\": itemsRender,\n        \"original_ingredients\": originalIngredients\n      })\n    }).then(response => {\n      return response.json();\n    }).then(data => {\n      setLoading(false);\n      setRecipe(data.recipes[0]);\n      let newRecipes = [...props.recipeList];\n      newRecipes[Math.floor(props.index / 3)][props.index > 3 ? Math.min(0, props.index - 3) : props.index] = data.recipes[0];\n      props.modifyRecipes(newRecipes);\n      setRemovedItems(new Array(recipe.assumed_ingredients.length).fill(false));\n      setRemovedItemsRender(new Array(recipe.assumed_ingredients.length).fill(false));\n      setEditedItemsRender(new Array(recipe.assumed_ingredients.length).fill(false));\n      setEditedItems(new Array(recipe.assumed_ingredients.length).fill(false));\n      setItemToEdit(false);\n    });\n  };\n}\n_c = SelectedRecipe;\nvar _c;\n$RefreshReg$(_c, \"SelectedRecipe\");","map":{"version":3,"names":["React","FontAwesomeIcon","faEdit","faTrash","useState","Alert","EditAssumedIngredient","SelectedRecipe","props","stringifyAssumedIngredients","recipe","ingredients_list","assumed_ingredients","map","ingredient","i","stringIngredient","assumed_quantities","assumed_quantities_unit","push","recipeProp","modifyRecipe","setLoading","cleanRemovedItems","removedItemsRender","marked","filter","item","originalIngredients","fetch","method","headers","body","JSON","stringify","itemsRender","then","response","json","data","setRecipe","recipes","newRecipes","recipeList","Math","floor","index","min","modifyRecipes","setRemovedItems","Array","length","fill","setRemovedItemsRender","setEditedItemsRender","setEditedItems","setItemToEdit","_c","$RefreshReg$"],"sources":["/Users/joshuasaji/Projects/React Native/project/app/src/components/SelectedRecipe.js"],"sourcesContent":["import React from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faEdit, faTrash } from '@fortawesome/free-solid-svg-icons'\nimport { useState } from 'react'\nimport Alert from \"./Alert\";\nimport EditAssumedIngredient from './EditAssumedIngredient';\n\n\nexport default function SelectedRecipe(props) {\n    let stringifyAssumedIngredients = (recipe) => {\n        let ingredients_list = []\n        recipe.assumed_ingredients.map((ingredient, i) => {\n            let stringIngredient = `${recipe.assumed_quantities[i]} ${recipe.assumed_quantities_unit[i]} ${ingredient}`\n            ingredients_list.push(stringIngredient)\n        })\n        return ingredients_list\n    }\n\n    let recipeProp = props.recipe\n\n    \n    \n    let modifyRecipe = () => {\n        setLoading(true);\n        const cleanRemovedItems = removedItemsRender\n        .map((marked, i) => marked ? recipe.assumed_ingredients[i] : false)\n        .filter(item => item !== false);\n        \n        let originalIngredients = stringifyAssumedIngredients(recipe)\n        fetch('http://localhost:8000/edit-recipe', {\n            method: \"POST\", headers: {\n                'Content-Type': \"application/json\"\n            }, body: JSON.stringify({ 'recipe': recipe, 'excluded_ingredients': cleanRemovedItems, \"rendered_items\": itemsRender, \"original_ingredients\":originalIngredients })\n        })\n            .then(response => {\n                return response.json()\n            })\n            .then(data => {\n                setLoading(false);\n                setRecipe(data.recipes[0]);\n                let newRecipes = [...props.recipeList];\n                newRecipes[Math.floor(props.index / 3)][props.index > 3 ? Math.min(0, props.index - 3) : props.index] = data.recipes[0]\n                props.modifyRecipes(newRecipes);\n                setRemovedItems(new Array(recipe.assumed_ingredients.length).fill(false))\n                setRemovedItemsRender(new Array(recipe.assumed_ingredients.length).fill(false))\n                setEditedItemsRender(new Array(recipe.assumed_ingredients.length).fill(false))\n                setEditedItems(new Array(recipe.assumed_ingredients.length).fill(false))\n                setItemToEdit(false);\n            })\n    }\n    \n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}