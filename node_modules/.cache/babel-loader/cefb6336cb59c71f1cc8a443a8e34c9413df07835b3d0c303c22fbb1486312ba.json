{"ast":null,"code":"var _s = $RefreshSig$();\nimport React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faEdit, faTrash } from '@fortawesome/free-solid-svg-icons';\nimport { useState } from 'react';\nimport Alert from \"./Alert\";\nimport EditAssumedIngredient from './EditAssumedIngredient';\nexport default function SelectedRecipe(props) {\n  _s();\n  let stringifyAssumedIngredients = recipe => {\n    let ingredients_list = [];\n    recipe.assumed_ingredients.map((ingredient, i) => {\n      let stringIngredient = `${recipe.assumed_quantities[i]} ${recipe.assumed_quantities_unit[i]} ${ingredient}`;\n      ingredients_list.push(stringIngredient);\n    });\n    return ingredients_list;\n  };\n  let recipeProp = props.recipe;\n  let [recipe, setRecipe] = useState(recipeProp);\n  let [removedItems, setRemovedItems] = useState(new Array(recipe.assumed_ingredients.length).fill(false));\n  let [itemsRender, setItemsRender] = useState(stringifyAssumedIngredients(recipe));\n  let [removedItemsRender, setRemovedItemsRender] = useState(new Array(recipe.assumed_ingredients.length).fill(false));\n  let [editItemsRender, setEditedItemsRender] = useState(new Array(recipe.assumed_ingredients.length).fill(false));\n  let [editItems, setEditedItems] = useState(new Array(recipe.assumed_ingredients.length).fill(false));\n  let [loading, setLoading] = useState(false);\n  let [itemToEdit, setItemToEdit] = useState(null);\n  let [editIngredientIndex, setEditIngredientIndex] = useState(-1);\n  let modifyRecipe = () => {\n    setLoading(true);\n    const cleanRemovedItems = removedItemsRender.map((marked, i) => marked ? recipe.assumed_ingredients[i] : false).filter(item => item !== false);\n    let originalIngredients = stringifyAssumedIngredients(recipe);\n    fetch('http://localhost:8000/edit-recipe', {\n      method: \"POST\",\n      headers: {\n        'Content-Type': \"application/json\"\n      },\n      body: JSON.stringify({\n        'recipe': recipe,\n        'excluded_ingredients': cleanRemovedItems,\n        \"rendered_items\": itemsRender,\n        \"original_ingredients\": originalIngredients\n      })\n    }).then(response => {\n      return response.json();\n    }).then(data => {\n      setLoading(false);\n      setRecipe(data.recipes[0]);\n      let newRecipes = [...props.recipeList];\n      newRecipes[Math.floor(props.index / 3)][props.index > 3 ? Math.min(0, props.index - 3) : props.index] = data.recipes[0];\n      props.modifyRecipes(newRecipes);\n      setRemovedItems(new Array(recipe.assumed_ingredients.length).fill(false));\n      setRemovedItemsRender(new Array(recipe.assumed_ingredients.length).fill(false));\n      setEditedItemsRender(new Array(recipe.assumed_ingredients.length).fill(false));\n      setEditedItems(new Array(recipe.assumed_ingredients.length).fill(false));\n      setItemToEdit(false);\n    });\n  };\n}\n_s(SelectedRecipe, \"a6MVmHEwybmPCoLOyJJBFX8hr4k=\");\n_c = SelectedRecipe;\nvar _c;\n$RefreshReg$(_c, \"SelectedRecipe\");","map":{"version":3,"names":["React","FontAwesomeIcon","faEdit","faTrash","useState","Alert","EditAssumedIngredient","SelectedRecipe","props","_s","stringifyAssumedIngredients","recipe","ingredients_list","assumed_ingredients","map","ingredient","i","stringIngredient","assumed_quantities","assumed_quantities_unit","push","recipeProp","setRecipe","removedItems","setRemovedItems","Array","length","fill","itemsRender","setItemsRender","removedItemsRender","setRemovedItemsRender","editItemsRender","setEditedItemsRender","editItems","setEditedItems","loading","setLoading","itemToEdit","setItemToEdit","editIngredientIndex","setEditIngredientIndex","modifyRecipe","cleanRemovedItems","marked","filter","item","originalIngredients","fetch","method","headers","body","JSON","stringify","then","response","json","data","recipes","newRecipes","recipeList","Math","floor","index","min","modifyRecipes","_c","$RefreshReg$"],"sources":["/Users/joshuasaji/Projects/React Native/project/app/src/components/SelectedRecipe.js"],"sourcesContent":["import React from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faEdit, faTrash } from '@fortawesome/free-solid-svg-icons'\nimport { useState } from 'react'\nimport Alert from \"./Alert\";\nimport EditAssumedIngredient from './EditAssumedIngredient';\n\n\nexport default function SelectedRecipe(props) {\n    let stringifyAssumedIngredients = (recipe) => {\n        let ingredients_list = []\n        recipe.assumed_ingredients.map((ingredient, i) => {\n            let stringIngredient = `${recipe.assumed_quantities[i]} ${recipe.assumed_quantities_unit[i]} ${ingredient}`\n            ingredients_list.push(stringIngredient)\n        })\n        return ingredients_list\n    }\n\n    let recipeProp = props.recipe\n\n    let [recipe, setRecipe] = useState(recipeProp);\n    let [removedItems, setRemovedItems] = useState(new Array(recipe.assumed_ingredients.length).fill(false));\n    let [itemsRender, setItemsRender] = useState(stringifyAssumedIngredients(recipe));\n    let [removedItemsRender, setRemovedItemsRender] = useState(new Array(recipe.assumed_ingredients.length).fill(false));\n    let [editItemsRender, setEditedItemsRender] = useState(new Array(recipe.assumed_ingredients.length).fill(false));\n    let [editItems, setEditedItems] = useState(new Array(recipe.assumed_ingredients.length).fill(false));\n    let [loading, setLoading] = useState(false);\n    let [itemToEdit, setItemToEdit] = useState(null);\n    let [editIngredientIndex, setEditIngredientIndex] = useState(-1);\n    \n    let modifyRecipe = () => {\n        setLoading(true);\n        const cleanRemovedItems = removedItemsRender\n        .map((marked, i) => marked ? recipe.assumed_ingredients[i] : false)\n        .filter(item => item !== false);\n        \n        let originalIngredients = stringifyAssumedIngredients(recipe)\n        fetch('http://localhost:8000/edit-recipe', {\n            method: \"POST\", headers: {\n                'Content-Type': \"application/json\"\n            }, body: JSON.stringify({ 'recipe': recipe, 'excluded_ingredients': cleanRemovedItems, \"rendered_items\": itemsRender, \"original_ingredients\":originalIngredients })\n        })\n            .then(response => {\n                return response.json()\n            })\n            .then(data => {\n                setLoading(false);\n                setRecipe(data.recipes[0]);\n                let newRecipes = [...props.recipeList];\n                newRecipes[Math.floor(props.index / 3)][props.index > 3 ? Math.min(0, props.index - 3) : props.index] = data.recipes[0]\n                props.modifyRecipes(newRecipes);\n                setRemovedItems(new Array(recipe.assumed_ingredients.length).fill(false))\n                setRemovedItemsRender(new Array(recipe.assumed_ingredients.length).fill(false))\n                setEditedItemsRender(new Array(recipe.assumed_ingredients.length).fill(false))\n                setEditedItems(new Array(recipe.assumed_ingredients.length).fill(false))\n                setItemToEdit(false);\n            })\n    }\n    \n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}